__________________________________________________________________________________________________________________________
#                                         Provisioned Capacity model

## üîç What Is the Provisioned Capacity Model?

**Provisioned Capacity** means you **pre-allocate a specific amount of capacity** (e.g., throughput, requests per second, storage, or compute) for a service **in advance**, and are **charged for that allocation**, regardless of whether you fully utilize it.

> üß† Think of it like "reserving bandwidth or power" ‚Äî you pay to always have a guaranteed level of performance.

---

## üßæ Key Characteristics

| Characteristic             | Description                                                      |
| -------------------------- | ---------------------------------------------------------------- |
| ‚öôÔ∏è **Fixed performance**   | You set capacity values (e.g. RCU/WCU, IOPS, MB/s) manually      |
| üí∞ **Steady pricing**      | Charged continuously based on provisioned amount                 |
| üö´ **No autoscaling**      | You must monitor and adjust manually (or use Auto Scaling tools) |
| ‚è±Ô∏è **Predictable latency** | Ideal for consistent workloads or SLA-sensitive apps             |

---

## üß© Where Is Provisioned Capacity Used in AWS?

Provisioned capacity is supported by several AWS services:

---

### ‚úÖ 1. **Amazon DynamoDB (Provisioned Mode)**

| Resource                       | Description                                    |
| ------------------------------ | ---------------------------------------------- |
| **RCU** ‚Äì Read Capacity Units  | 1 strongly consistent read/sec for item ‚â§ 4 KB |
| **WCU** ‚Äì Write Capacity Units | 1 write/sec for item ‚â§ 1 KB                    |
| **Pricing**                    | Charged per RCU and WCU provisioned/hour       |

> üß† Good for **predictable workloads**, with optional **auto-scaling** to adjust provisioned capacity.

```bash
aws dynamodb update-table \
  --table-name Orders \
  --provisioned-throughput ReadCapacityUnits=100,WriteCapacityUnits=50
```

---

### ‚úÖ 2. **Amazon Kinesis Data Streams**

| Resource                 | Description                                        |
| ------------------------ | -------------------------------------------------- |
| **Shards**               | Each shard provides 1 MB/sec write + 2 MB/sec read |
| **Provisioned capacity** | You pay per shard per hour, regardless of usage    |

> Ideal for **consistent real-time data ingestion** pipelines (logs, metrics, etc.)

---

### ‚úÖ 3. **Amazon S3 Glacier (Provisioned Capacity)**

This is different from most S3 pricing:

| Feature                            | Description                                                               |
| ---------------------------------- | ------------------------------------------------------------------------- |
| **Provisioned retrieval capacity** | Ensures access to a guaranteed number of expedited restores               |
| **Why**                            | Avoid delays or retrieval failures under high demand                      |
| **Pricing**                        | \~\$100/month per unit (as of 2025), supports 1500 expedited requests/day |

> üîê Use this when **data retrieval SLA** is critical (e.g., backup systems, legal archives)

---

### ‚úÖ 4. **Amazon Elastic File System (EFS Provisioned Throughput)**

| Type                   | Description                                                                 |
| ---------------------- | --------------------------------------------------------------------------- |
| Provisioned Throughput | You define MB/s regardless of storage used                                  |
| Example                | 128 MB/s throughput, billed hourly                                          |
| Use Case               | Apps needing consistent IO performance, regardless of file size or activity |

---

### ‚úÖ 5. **Amazon Aurora Serverless v1 (Capacity Units)**

| Feature                        | Description                                                      |
| ------------------------------ | ---------------------------------------------------------------- |
| **ACU** ‚Äì Aurora Capacity Unit | 2 GB memory + corresponding CPU/network                          |
| **Provisioned automatically**  | But minimum/maximum ACUs are user-defined                        |
| **Use case**                   | Predictable workloads with database connection pooling or spikes |

---

## üìä Pricing Characteristics

| Characteristic                             | Detail                                                    |
| ------------------------------------------ | --------------------------------------------------------- |
| üì¶ **Charged based on provisioned amount** | Not actual usage                                          |
| üïí **Billed per second/hour**              | Depending on the service                                  |
| üí∏ **Cost stays constant**                 | Even if usage is low or zero                              |
| ‚öôÔ∏è **May support auto scaling**            | (e.g., DynamoDB Auto Scaling) but still provisioned model |

---

## ‚úÖ Pros

| Advantage               | Why It Matters                                |
| ----------------------- | --------------------------------------------- |
| Guaranteed performance  | No throttling during traffic peaks            |
| Predictable billing     | Easier for budgeting and planning             |
| SLA support             | Ideal for regulated, mission-critical systems |
| Supports capacity alerts| You control scaling and spend proactively     |

---

## ‚ùå Cons

| Disadvantage        | Why It Matters                                         |
| ------------------- | ------------------------------------------------------ |
| Can be wasteful     | You pay even during idle time                          |
| Requires monitoring | Manually adjust capacity or rely on auto-scaling logic |
| Not burst-tolerant  | Risk of throttling if underestimated                   |
| No pay-as-you-go    | Unlike On-Demand/serverless models                     |

---

## üß† Example: DynamoDB Provisioned Cost Calculation

Let‚Äôs say you provision:

* **200 RCUs** and **100 WCUs**
* For 30 days

### Monthly Cost:

* 200 RCUs √ó \$0.00013/hr = \~\$18.72/month
* 100 WCUs √ó \$0.00065/hr = \~\$46.80/month
* **Total: \$65.52/month**, even if you use only 50% of that capacity

---

## üìê Use Case Scenarios

| Use Case                                                | Why Provisioned Works                              |
| ------------------------------------------------------- | -------------------------------------------------- |
| High-throughput IoT data ingestion (Kinesis)            | Guaranteed shard capacity for data ingestion       |
| Regulated database with predictable load (DynamoDB)     | Ensures compliance & consistent performance        |
| Archival storage with strict restore SLAs (S3 Glacier)  | Ensures restore availability via provisioned units |
| Scientific apps using EFS for file IO                   | Dedicated throughput prevents bottlenecks          |

---

## üõ†Ô∏è Monitoring & Scaling Tools

| Tool                      | Purpose                                              |
| ------------------------- | ---------------------------------------------------- |
| **CloudWatch Alarms**     | Alert when usage nears provisioned limits            |
| **DynamoDB Auto Scaling** | Adjust RCUs/WCUs based on traffic patterns           |
| **Kinesis Scaling**       | Split/merge shards as needed                         |
| **AWS Budgets**           | Prevent overprovisioning by monitoring idle capacity |

---

## üìå Summary Table

| Service              | Resource                 | Pricing Unit                                |
| -------------------- | ------------------------ | ------------------------------------------- |
| DynamoDB             | RCU/WCU                  | Per unit/hour                               |
| Kinesis Streams      | Shards                   | Per shard/hour                              |
| S3 Glacier           | Retrieval capacity units | \$100/unit/month                            |
| EFS                  | MB/s throughput          | Per provisioned throughput                  |
| Aurora Serverless v1 | Min/Max ACU              | Per second used, provisioned range enforced |

---

## üß† Provisioned vs On-Demand vs Serverless

| Feature  | Provisioned       | On-Demand      | Serverless                  |
| -------- | ----------------- | -------------- | --------------------------- |
| Pricing  | Fixed             | Per usage      | Per invocation/duration     |
| Scaling  | Manual or auto    | Elastic        | Fully automatic             |
| Best for | Predictable loads | Bursty traffic | Microservices/APIs          |
| Risk     | Overprovisioning  | Under-scaling  | Cold starts (in some cases) |

---
