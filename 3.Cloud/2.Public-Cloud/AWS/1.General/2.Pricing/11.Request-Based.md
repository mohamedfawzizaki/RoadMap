__________________________________________________________________________________________________________________________
#                                       Request-Based Pricing Model

## üîç What Is the Request-Based Pricing Model?

In the **Request-Based model**, you are charged **per API call, request, or operation** ‚Äî typically for services that handle large numbers of lightweight transactions or HTTP requests.

> üß† Ideal for serverless and scalable services like:
>
> * **S3**
> * **API Gateway**
> * **Lambda**
> * **DynamoDB**
> * **SNS / SQS**
> * **Step Functions**
> * **EventBridge**
> * **CloudWatch Logs**

---

## üí° Key Characteristics

| Feature                    | Description                                 |
| -------------------------- | ------------------------------------------- |
| **Unit of Billing**        | Request, invocation, message, event         |
| **Lightweight operations** | Suitable for APIs, microservices, messaging |
| **Small per-unit cost**    | But high volumes can lead to large bills    |
| **Scales automatically**   | Costs rise with number of calls/messages    |

---

## üßæ Examples by Service

---

### 1. **Amazon S3**

| Request Type          | Price (per 1,000 requests) |
| --------------------- | -------------------------- |
| PUT, COPY, POST, LIST | \$0.005                    |
| GET, SELECT           | \$0.0004                   |
| DELETE                | Free                       |

> üß† You‚Äôre charged separately for **requests**, **storage**, and **data transfer**.

---

### 2. **AWS Lambda**

| Action      | Free Tier            | Price                     |
| ----------- | -------------------- | ------------------------- |
| Invocations | 1M/month             | \$0.20 per 1M invocations |
| Duration    | 400,000 GB-sec/month | \$0.00001667 per GB-sec   |

> Lambda is priced **per request** + **duration** based on memory.

---

### 3. **Amazon API Gateway (REST APIs)**

| Action         | Price                                  |
| -------------- | -------------------------------------- |
| REST API calls | \$3.50 per 1M requests                 |
| Data transfer  | Charged separately                     |
| Caching        | Extra fee per hour based on cache size |

> üß† You pay for each client call to your API.

---

### 4. **DynamoDB (On-Demand Mode)**

| Type          | Price                    |
| ------------- | ------------------------ |
| Write request | \$1.25 per 1M            |
| Read request  | \$0.25 per 1M            |
| Streams read  | \$0.02 per 100,000 reads |

---

### 5. **Amazon SQS**

| Request Type           | Price                  |
| ---------------------- | ---------------------- |
| Standard queue request | \$0.40 per 1M requests |
| FIFO queue request     | \$0.50 per 1M requests |

---

### 6. **Amazon SNS**

| Message Type                  | Price                                       |
| ----------------------------- | ------------------------------------------- |
| Publish (HTTP/SMS/Email/etc.) | \$0.50 per 1M publishes                     |
| HTTP/S delivery               | Free                                        |
| SMS delivery                  | \~\$0.00645/message (varies by destination) |

---

### 7. **Step Functions**

| Type              | Price                                                  |
| ----------------- | ------------------------------------------------------ |
| Standard Workflow | \$0.025 per 1,000 state transitions                    |
| Express Workflow  | \$1.00 per 1M requests + \$0.000004 per GB-sec compute |

---

### 8. **CloudWatch Logs**

| Request Type             | Price                  |
| ------------------------ | ---------------------- |
| PutLogEvents (ingestion) | \$0.50 per GB          |
| GetLogEvents (retrieval) | Free for 5 GB/month    |
| Logs Insights queries    | \$0.005 per GB scanned |

---

## üìä Example Cost Breakdown

Let‚Äôs say you build a serverless API with:

* **API Gateway**: 10M requests/month
* **Lambda backend**: 10M invocations/month, 128MB, 100ms avg
* **DynamoDB**: 10M reads, 5M writes/month

### Estimated Monthly Cost:

| Service           | Charge           |
| ----------------- | ---------------- |
| API Gateway       | \$35             |
| Lambda (requests) | \$2              |
| Lambda (compute)  | \~\$1.28         |
| DynamoDB Reads    | \$2.50           |
| DynamoDB Writes   | \$6.25           |
| **Total**         | **\~\$47/month** |

---

## ‚úÖ Benefits of Request-Based Model

| Benefit                 | Description                                 |
| ----------------------- | ------------------------------------------- |
| Pay-per-use             | Cost directly tied to demand                |
| Ideal for microservices | Small, fast, scalable interactions          |
| Scales automatically    | No need to provision resources              |
| Zero idle cost          | No cost when idle (e.g. Lambda/API Gateway) |
| Free Tier available     | Great for startups, learners, testing       |

---

## ‚ùå Drawbacks

| Drawback                         | Explanation                                  |
| -------------------------------- | -------------------------------------------- |
| üí• Unexpected spikes             | Cost grows fast with traffic bursts          |
| ‚ùó Complex cost estimation        | Multiple tiny charges to track               |
| üí∞ Not ideal for large transfers | Better to use EC2/ELB for heavy traffic      |
| üìà Per-request cost adds up      | Especially for chatty or unoptimized systems |

---

## üîß Monitoring Request-Based Charges

| Tool                   | Purpose                                 |
| ---------------------- | --------------------------------------- |
| **AWS Cost Explorer**  | View request-based usage over time      |
| **Billing Dashboard**  | Real-time cost alerts                   |
| **CloudWatch Metrics** | Service-level request tracking          |
| **Tags and Budgets**   | Allocate and control cost by app/module |

---

## üìå Summary Table

| Service              | Unit              | Price           |
| -------------------- | ----------------- | --------------- |
| S3                   | 1,000 PUT         | \$0.005         |
| Lambda               | 1M requests       | \$0.20          |
| API Gateway          | 1M calls          | \$3.50          |
| DynamoDB (On-Demand) | 1M reads/writes   | \$0.25 / \$1.25 |
| SQS                  | 1M messages       | \$0.40          |
| SNS                  | 1M publishes      | \$0.50          |
| Step Functions       | 1,000 transitions | \$0.025         |

---

## üß† Tips to Reduce Request-Based Costs

| Strategy                              | How It Helps                                    |
| ------------------------------------- | ----------------------------------------------- |
| üì¶ **Batch requests**                 | E.g. use SQS batch sends, DynamoDB batch writes |
| ‚è±Ô∏è **Debounce API calls**             | Reduce frequent, unnecessary frontend hits      |
| üßπ **Use caching**                    | With API Gateway or Lambda\@Edge                |
| üîÅ **Use Express Step Functions**     | For high-throughput workflows                   |
| üîç **Monitor usage by resource tags** | Helps optimize noisy components                 |

---