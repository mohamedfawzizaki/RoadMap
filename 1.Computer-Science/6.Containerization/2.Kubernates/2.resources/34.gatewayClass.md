___________________________________________________________________________________________________________________________

---

# What is GatewayClass?

* **GatewayClass** is a cluster-scoped resource that defines a class of Gateways.
* A **Gateway** represents a networking load balancer or proxy that manages inbound/outbound traffic for services.
* GatewayClass describes the *type* or *implementation* of a Gateway, similar to how IngressClass defines which controller handles Ingresses.
* It decouples **Gateway** configuration from the specific implementation details.

---

# Why GatewayClass?

* The Kubernetes **Gateway API** is designed to provide a more expressive and extensible model than Ingress.
* Supports advanced features like:

  * Multiple protocols (HTTP, TCP, TLS, UDP).
  * Fine-grained traffic routing.
  * Multi-tenant support.
  * Policy and security.
  * Support for various controllers and vendors.
* GatewayClass enables multiple Gateway implementations to coexist in a cluster.

---

# How GatewayClass Works

* Each Gateway resource references a GatewayClass by name.
* The GatewayClass specifies which controller is responsible for managing Gateways of that class.
* Controllers watch GatewayClass resources with their controller string and reconcile associated Gateways.

---

# GatewayClass API Version & Kind

```yaml
apiVersion: networking.x-k8s.io/v1alpha1
kind: GatewayClass
```

*Note*: As of mid-2025, Gateway API is still evolving and its API version may have progressed beyond v1alpha1 in newer Kubernetes releases or via CRDs.

---

# Anatomy of a GatewayClass Resource

```yaml
apiVersion: networking.x-k8s.io/v1alpha1
kind: GatewayClass
metadata:
  name: example-gatewayclass
spec:
  controller: example.net/gateway-controller
  parametersRef:
    group: example.net
    kind: GatewayConfig
    name: example-config
    namespace: gateway-system
```

---

# Key Fields Explained

| Field                | Description                                                                       |
| -------------------- | --------------------------------------------------------------------------------- |
| `metadata.name`      | Name of the GatewayClass, used by Gateways to reference it                        |
| `spec.controller`    | Identifier string of the controller responsible for this GatewayClass             |
| `spec.parametersRef` | (Optional) Reference to a config object with custom parameters for the controller |

---

# Controller Field

* The controller string identifies the software managing this GatewayClass.
* Example values:

  * `example.net/gateway-controller`
  * `ingress-nginx.example.com/controller`
  * `istio.io/gateway-controller`

---

# parametersRef (Optional)

* Allows passing custom configuration to the controller managing the GatewayClass.
* The referenced object can be a ConfigMap, CustomResource, or other CRD.
* Provides extensibility for vendor-specific features.

---

# Using GatewayClass with Gateways

* A Gateway resource must specify the `gatewayClassName` field to select a GatewayClass.

Example Gateway referencing GatewayClass:

```yaml
apiVersion: networking.x-k8s.io/v1alpha1
kind: Gateway
metadata:
  name: example-gateway
spec:
  gatewayClassName: example-gatewayclass
  listeners:
  - protocol: HTTP
    port: 80
```

* The controller watching the GatewayClass reconciles the Gateway and provisions infrastructure accordingly.

---

# Benefits Over Traditional IngressClass

| Aspect              | GatewayClass (Gateway API)                                | IngressClass (Ingress API)       |
| ------------------- | --------------------------------------------------------- | -------------------------------- |
| Protocols Supported | HTTP, HTTPS, TCP, UDP, TLS, more                          | Primarily HTTP/S                 |
| Extensibility       | Supports custom parameters, multi-listener gateways       | Limited extensibility            |
| Multi-tenancy       | Namespaced Gateways reference cluster-scoped GatewayClass | Ingress is cluster-wide          |
| Expressiveness      | Rich routing, multiple listeners, filters, policies       | Basic host/path routing          |
| Multi-controller    | Multiple GatewayClasses coexist with clear boundaries     | Multiple IngressClasses possible |

---

# Current Status & Adoption

* Gateway API is a Kubernetes SIG-Network project, evolving and stabilizing.
* Many cloud providers and ingress vendors are adding Gateway API support.
* GatewayClass is key to running multiple Gateway implementations in one cluster.

---

# Summary Table

| Field                | Description                                |
| -------------------- | ------------------------------------------ |
| `metadata.name`      | GatewayClass name                          |
| `spec.controller`    | Controller responsible for this class      |
| `spec.parametersRef` | Optional reference to configuration object |

---

# Example Minimal GatewayClass

```yaml
apiVersion: networking.x-k8s.io/v1alpha1
kind: GatewayClass
metadata:
  name: nginx-gatewayclass
spec:
  controller: ingress-nginx-controller
```

---

