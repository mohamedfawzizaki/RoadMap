_______________________________________________________________________________________________________________________________________
                                        üîπ Understanding `/var/www/` Directory in Linux  

 1Ô∏è‚É£ What is `/var/www/`?  
The `/var/www/` directory is the default web root for most web servers on Linux, including Nginx, Apache, and Lighttpd. 
It stores website files that are served to clients.  

üìå Location:  
````````````````````````````````````````````````````````````````````bash
cd /var/www/
````````````````````````````````````````````````````````````````````

_______________________________________________________________________________________________________________________________________

 2Ô∏è‚É£ Common Directory Structure  
A typical `/var/www/` setup:  
````````````````````````````````````````````````````````````````````
/var/www/
‚îú‚îÄ‚îÄ html/               # Default website root (e.g., Apache default page)
‚îÇ   ‚îú‚îÄ‚îÄ index.html      # Default homepage
‚îÇ   ‚îú‚îÄ‚îÄ styles.css      # CSS file
‚îÇ   ‚îú‚îÄ‚îÄ script.js       # JavaScript file
‚îÇ   ‚îú‚îÄ‚îÄ images/         # Images folder
‚îÇ
‚îú‚îÄ‚îÄ example.com/        # Website for example.com
‚îÇ   ‚îú‚îÄ‚îÄ public_html/    # Document root for example.com
‚îÇ   ‚îú‚îÄ‚îÄ logs/           # Logs directory for this website
‚îÇ   ‚îú‚îÄ‚îÄ backups/        # Backup files
‚îÇ
‚îî‚îÄ‚îÄ myapp/              # Custom web application
    ‚îú‚îÄ‚îÄ public/         # Publicly accessible files
    ‚îú‚îÄ‚îÄ src/            # PHP or backend code
    ‚îú‚îÄ‚îÄ logs/           # Log files
````````````````````````````````````````````````````````````````````

_______________________________________________________________________________________________________________________________________

 3Ô∏è‚É£ Default Web Root for Web Servers  
| Web Server    | Default Root Directory 
| Apache        | `/var/www/html/`          
| Nginx         | `/var/www/html/` (Debian-based) or `/usr/share/nginx/html/` (RHEL-based) 
| Lighttpd      | `/var/www/` 

_______________________________________________________________________________________________________________________________________

 4Ô∏è‚É£ Setting Up a Website in `/var/www/`
üîπ Example: Create a New Website for `example.com`  

1Ô∏è‚É£ Create a directory for the site  
````````````````````````````````````````````````````````````````````bash
sudo mkdir -p /var/www/example.com/public_html
````````````````````````````````````````````````````````````````````

2Ô∏è‚É£ Set ownership and permissions  
````````````````````````````````````````````````````````````````````bash
sudo chown -R $USER:$USER /var/www/example.com/public_html
sudo chmod -R 755 /var/www/
````````````````````````````````````````````````````````````````````

3Ô∏è‚É£ Create an `index.html` file  
````````````````````````````````````````````````````````````````````bash
echo "<h1>Welcome to Example.com</h1>" | sudo tee /var/www/example.com/public_html/index.html
````````````````````````````````````````````````````````````````````

4Ô∏è‚É£ Configure Nginx to serve this site  
Edit `/etc/nginx/sites-available/example.com`:  
````````````````````````````````````````````````````````````````````nginx
server {
    listen 80;
    server_name example.com www.example.com;
    root /var/www/example.com/public_html;
    index index.html index.htm;
    location / {
        try_files $uri $uri/ =404;
    }
}
````````````````````````````````````````````````````````````````````

5Ô∏è‚É£ Enable the site and reload Nginx  
````````````````````````````````````````````````````````````````````bash
sudo ln -s /etc/nginx/sites-available/example.com /etc/nginx/sites-enabled/
sudo systemctl restart nginx
````````````````````````````````````````````````````````````````````

_______________________________________________________________________________________________________________________________________

 5Ô∏è‚É£ Managing Permissions  
To ensure the web server can access files:  
````````````````````````````````````````````````````````````````````bash
sudo chown -R www-data:www-data /var/www/  # Apache/Nginx user
sudo chmod -R 755 /var/www/
````````````````````````````````````````````````````````````````````

For Laravel or PHP apps requiring writable directories:  
````````````````````````````````````````````````````````````````````bash
sudo chmod -R 775 /var/www/example.com/storage/
````````````````````````````````````````````````````````````````````

_______________________________________________________________________________________________________________________________________

 6Ô∏è‚É£ Securing `/var/www/`  
| Security Tip              | Command/Action 
| Disable directory listing | `autoindex off;` in Nginx config 
| Use proper permissions    | `chmod -R 755 /var/www/` 
| Restrict file uploads     | Set proper validation in PHP/Nginx 
| Enable HTTPS              | Use Let's Encrypt: `sudo certbot --nginx -d example.com` 

_______________________________________________________________________________________________________________________________________

 7Ô∏è‚É£ Troubleshooting Issues  
| Issue                         | Solution 
| `403 Forbidden`               | Check permissions: `sudo chown -R www-data:www-data /var/www/` 
| `404 Not Found`               | Ensure Nginx config points to the correct `root` directory 
| `nginx: [emerg] bind() failed`| Check if another service is using port 80/443 (`sudo netstat -tulnp`) 

_______________________________________________________________________________________________________________________________________

 8Ô∏è‚É£ Summary  
- `/var/www/` is the default web directory for hosting websites.  
- Websites are stored inside `/var/www/site_name/public_html/`.  
- Ensure proper permissions (`chown www-data:www-data` and `chmod 755`).  
- Configure Nginx or Apache to serve sites from this directory.  
- Secure it by restricting access and enabling HTTPS.  

_______________________________________________________________________________________________________________________________________